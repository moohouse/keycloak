"use strict";(self.webpackChunkkeycloak_theme_dsfr=self.webpackChunkkeycloak_theme_dsfr||[]).push([[535],{535:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var r=a(9439),s=a(2791),n=a(1027),i=a(2243),l=a(184);function o(e){var t=e.kcContext,a=e.onIsFormSubmittableValueChange,r=e.i18n,o=e.getClassName,c=r.advancedMsg,d=(0,n.Q)({kcContext:t,i18n:r}),u=d.formValidationState,f=u.fieldStateByAttributeName,m=u.isFormSubmittable,p=d.formValidationDispatch,v=d.attributesWithPassword,b=r.msgStr;(0,s.useEffect)((function(){a(m)}),[m]);var x=t.properties.contactEmail||"ERROR: Need to be provided as environnement variable";return(0,l.jsx)(l.Fragment,{children:v.map((function(e){var t,a,r,s=f[e.name],n=s.value,d=s.displayableErrors;return(0,l.jsx)(i.I,{label:c(null!==(t=e.displayName)&&void 0!==t?t:""),nativeInputProps:{type:function(){switch(e.name){case"password-confirm":case"password":return"password";default:return"text"}}(),id:e.name,name:e.name,value:n,onChange:function(t){return p({action:"update value",name:e.name,newValue:t.currentTarget.value})},className:o("kcInputClass"),"aria-invalid":0!==d.length,disabled:e.readOnly,autoComplete:e.autocomplete,onBlur:function(){return p({action:"focus lost",name:e.name})}},state:0!==d.length?"error":"default",stateRelatedMessage:"email"===e.name&&"pattern"===(null===(a=d[0])||void 0===a?void 0:a.validatorName)?(0,l.jsxs)("span",{children:[b("you domain isn't allowed yet"),"\xa0",(0,l.jsx)("a",{href:"mailto:".concat(x,"?subject=").concat(encodeURIComponent(b("mail subject")),"&body=").concat(encodeURIComponent(b("mail body"))),children:x})]}):null===(r=d[0])||void 0===r?void 0:r.errorMessageStr},e.name)}))})}var c=a(914),d=a(4948),u=a(7107);function f(e){var t=e.kcContext,a=e.i18n,n=e.doUseDefaultCss,i=e.Template,c=e.classes,f=(0,u.v)({doUseDefaultCss:n,classes:c}).getClassName,p=t.url,v=t.messagesPerField,b=t.recaptchaRequired,x=t.recaptchaSiteKey,g=a.msg,y=a.msgStr,h=m().classes,N=(0,s.useState)(!1),j=(0,r.Z)(N,2),C=j[0],k=j[1];return(0,l.jsx)(i,{kcContext:t,i18n:a,doUseDefaultCss:n,classes:c,displayMessage:v.exists("global"),headerNode:g("registerTitle"),children:(0,l.jsx)("form",{id:"kc-register-form",className:h.centerCol,action:p.registrationAction,method:"post",children:(0,l.jsxs)("div",{className:h.inputs,children:[(0,l.jsx)(o,{kcContext:t,onIsFormSubmittableValueChange:k,i18n:a,getClassName:f}),b&&(0,l.jsx)("div",{className:"form-group",children:(0,l.jsx)("div",{className:f("kcInputWrapperClass"),children:(0,l.jsx)("div",{className:"g-recaptcha","data-size":"compact","data-sitekey":x})})}),(0,l.jsxs)("div",{className:h.buttons,children:[(0,l.jsx)("a",{className:d.fr.cx("fr-btn","fr-btn--secondary"),href:p.loginUrl,children:y("backToLogin")}),(0,l.jsx)("input",{className:d.fr.cx("fr-btn"),type:"submit",value:y("doRegister"),disabled:!C})]})]})})})}var m=c.I.withName({RegisterUserProfile:f}).create({centerCol:{display:"flex",flexDirection:"column",alignItems:"center"},inputs:{display:"flex",flexDirection:"column",width:"100%"},buttons:{display:"flex",gap:d.fr.spacing("4v"),justifyContent:"end"}})},2243:function(e,t,a){a.d(t,{I:function(){return c}});var r=a(2791),s=a(1752),n=a(5935),i=a(4948),l=a(2951),o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a},c=(0,r.memo)((0,r.forwardRef)((function(e,t){var a,s=e.className,c=e.id,d=e.label,u=e.hintText,f=e.hideLabel,m=e.disabled,p=void 0!==m&&m,v=e.iconId,b=e.classes,x=void 0===b?{}:b,g=e.style,y=e.state,h=void 0===y?"default":y,N=e.stateRelatedMessage,j=e.textArea,C=void 0!==j&&j,k=e.nativeTextAreaProps,w=e.nativeInputProps,I=o(e,["className","id","label","hintText","hideLabel","disabled","iconId","classes","style","state","stateRelatedMessage","textArea","nativeTextAreaProps","nativeInputProps"]),O=null!==(a=C?k:w)&&void 0!==a?a:{},S=C?"textarea":"input";(0,n.assert)();var P=function(){var e,t=(0,r.useId)();return null!==(e=O.id)&&void 0!==e?e:"input-".concat(t)}(),R="".concat(P,"-desc-error");return r.createElement("div",Object.assign({className:(0,l.cx)(i.fr.cx("file"===(null===w||void 0===w?void 0:w.type)?"fr-upload-group":"fr-input-group",p&&"fr-input-group--disabled",function(){switch(h){case"error":return"fr-input-group--error";case"success":return"fr-input-group--valid";case"default":return}(0,n.assert)(!1)}()),x.root,s),style:g,ref:t,id:c},I),r.createElement("label",{className:(0,l.cx)(i.fr.cx("fr-label",f&&"fr-sr-only"),x.label),htmlFor:P},d,void 0!==u&&r.createElement("span",{className:"fr-hint-text"},u)),function(){var e,t=r.createElement(S,Object.assign({},O,{className:(0,l.cx)(i.fr.cx("fr-input",function(){switch(h){case"error":return"fr-input--error";case"success":return"fr-input--valid";case"default":return}(0,n.assert)(!1)}()),x.nativeInputOrTextArea),disabled:p||void 0,"aria-describedby":R,type:C?void 0:null!==(e=null===w||void 0===w?void 0:w.type)&&void 0!==e?e:"text",id:P})),a=null!==v&&void 0!==v?v:"date"===(null===w||void 0===w?void 0:w.type)?"ri-calendar-line":void 0;return void 0===a?t:r.createElement("div",{className:i.fr.cx("fr-input-wrap",a)},t)}(),"default"!==h&&r.createElement("p",{id:R,className:(0,l.cx)(i.fr.cx(function(){switch(h){case"error":return"fr-error-text";case"success":return"fr-valid-text"}(0,n.assert)(!1)}()),x.message)},N))})));c.displayName=(0,s.symToStr)({Input:c})},1752:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.symToStr=void 0,t.symToStr=function(e){return Object.keys(e)[0]}}}]);
//# sourceMappingURL=535.4b52c277.chunk.js.map